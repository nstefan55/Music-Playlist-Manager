def spremiPlaylistu(playlist)
        file_path = 'data/playlists.json'

        # Read existing playlists from the file
        existingPlaylists = []
        if File.exist?(file_path) && !File.zero?(file_path)
            jsonData = File.read(file_path)
            existingPlaylists = JSON.parse(jsonData)
        end

        begin
            # Check if the playlist already exists
            existing_playlist = existingPlaylists.find { |p| p['naziv'] == playlist.naziv }
            if existing_playlist
                playlistData = {
                    naziv: playlist.naziv,
                    pjesme: playlist.pjesme.map do |pjesma|
                        {
                            naziv: pjesma.naziv,
                            izvodac: pjesma.izvodac,
                            album: pjesma.album,
                            trajanje: pjesma.trajanje
                        }
                    end
                }
            else
                playlistData = {
                    naziv: playlist.naziv,
                    pjesme: []
                }
                existingPlaylists << playlistData
            end

            jsonData = JSON.generate(existingPlaylists)
            File.write(file_path, jsonData)
            puts "Playlista pod nazivom:  '#{playlist.naziv}'  je uspješno spremljena u datoteku."
        rescue StandardError => e
            puts "Greška:  #{e.message}"
            FXMessageBox.error(self, MBOX_OK, "Error", "Pojavila se greška prilikom spremanja playliste!")
        end
end